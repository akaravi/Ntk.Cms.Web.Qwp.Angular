# ุฑุงูููุง ุชูุธูุงุช GitHub ุจุฑุง Workflow

ุงู ุฑุงูููุง ุดุงูู ุชูุงู ุชูุธูุงุช ุงุณุช ฺฉู ุจุงุฏ ุฏุฑ ุณุงุช GitHub.com ุงูุฌุงู ุฏูุฏ.

## ๐ ุชูุธูุงุช ุถุฑูุฑ

### 1๏ธโฃ ูุนุงูโุณุงุฒ GitHub Actions

1. ุจู repository ุฎูุฏ ุจุฑูุฏ
2. ุฑู **Settings** (ุชูุธูุงุช) ฺฉูฺฉ ฺฉูุฏ
3. ุฏุฑ ููู ุณูุช ฺูพุ ุฑู **Actions** โ **General** ฺฉูฺฉ ฺฉูุฏ
4. ุฏุฑ ุจุฎุด **Actions permissions**:
   - โ ฺฏุฒูู **"Allow all actions and reusable workflows"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - ุง ุงฺฏุฑ ูโุฎูุงูุฏ ูุญุฏูุฏุชุฑ ุจุงุดุฏ: **"Allow local actions and reusable workflows"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
5. ุฑู **Save** ฺฉูฺฉ ฺฉูุฏ

### 2๏ธโฃ ุชูุธูุงุช Permissions ุจุฑุง Workflow

1. ุฏุฑ **Settings** โ **Actions** โ **General**
2. ุจู ูพุงู ุตูุญู ุจุฑูุฏ ุจู ุจุฎุด **Workflow permissions**
3. ฺฉ ุงุฒ ฺฏุฒููโูุง ุฒุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ:

   **ฺฏุฒูู 1 (ูพุดููุงุฏ):**
   - โ **"Read and write permissions"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - โ ฺฏุฒูู **"Allow GitHub Actions to create and approve pull requests"** ุฑุง ูุนุงู ฺฉูุฏ
   - ุงู ฺฏุฒูู ุจุฑุง ุงุฌุงุฏ Release ู Tag ุถุฑูุฑ ุงุณุช

   **ฺฏุฒูู 2 (ุงฺฏุฑ ููุท Read & Write ฺฉุงู ุงุณุช):**
   - โ **"Read and write permissions"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

4. ุฑู **Save** ฺฉูฺฉ ฺฉูุฏ

> โ๏ธ **ูฺฉุชู ููู**: ุจุฏูู ุงู ุชูุธูุงุชุ workflow ููโุชูุงูุฏ Release ุงุฌุงุฏ ฺฉูุฏ ุง Tag ุจุณุงุฒุฏ.

### 3๏ธโฃ ุจุฑุฑุณ GITHUB_TOKEN

`GITHUB_TOKEN` ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ GitHub Actions ุฏุฑ ุฏุณุชุฑุณ ุงุณุช ู ูุงุฒ ุจู ุชูุธูุงุช ุงุถุงู ูุฏุงุฑุฏ. ุงู token ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุฑุง ูุฑ workflow run ุงุฌุงุฏ ูโุดูุฏ.

---

## ๐ง ุชูุธูุงุช ุงุฎุชุงุฑ (ุงูุง ููุฏ)

### 4๏ธโฃ ุชูุธูุงุช Branch Protection (ุงุฎุชุงุฑ)

ุงฺฏุฑ ูโุฎูุงูุฏ branch `publish` ุฑุง ูุญุงูุธุช ฺฉูุฏ:

1. ุจู **Settings** โ **Branches** ุจุฑูุฏ
2. ุฑู **Add branch protection rule** ฺฉูฺฉ ฺฉูุฏ
3. ุฏุฑ ูุณูุช **Branch name pattern** ุจููุณุฏ: `*publish*`
4. ฺฏุฒููโูุง ููุฑุฏ ูุธุฑ ุฑุง ูุนุงู ฺฉูุฏ:
   - โ **Require a pull request before merging**
   - โ **Require status checks to pass before merging**
   - โ **Require branches to be up to date before merging**
5. ุฑู **Create** ฺฉูฺฉ ฺฉูุฏ

### 5๏ธโฃ ุชูุธูุงุช Notifications (ุงุฎุชุงุฑ)

ุจุฑุง ุฏุฑุงูุช ุงุทูุงุนู ุงุฒ workflow runs:

1. ุจู **Settings** โ **Notifications** ุจุฑูุฏ
2. ุจุฎุด **Actions** ุฑุง ูพุฏุง ฺฉูุฏ
3. ฺฏุฒููโูุง ููุฑุฏ ูุธุฑ ุฑุง ูุนุงู ฺฉูุฏ:
   - โ **Workflow runs that have failed**
   - โ **Workflow runs that have succeeded** (ุงฺฏุฑ ูโุฎูุงูุฏ)

---

## โ ุจุฑุฑุณ ุตุญุช ุชูุธูุงุช

### ุชุณุช 1: ุจุฑุฑุณ ูุนุงู ุจูุฏู Actions

1. ุจู tab **Actions** ุฏุฑ repository ุจุฑูุฏ
2. ุจุงุฏ workflow **"Node.js CI"** ุฑุง ุฏุฑ ูุณุช ุจุจูุฏ
3. ุฑู ุขู ฺฉูฺฉ ฺฉูุฏ ุชุง ุฌุฒุฆุงุช ุฑุง ุจุจูุฏ

### ุชุณุช 2: ุงุฌุฑุง ุฏุณุช Workflow

1. ุจู **Actions** โ **Node.js CI** ุจุฑูุฏ
2. ุฑู **Run workflow** ฺฉูฺฉ ฺฉูุฏ
3. ูุณุฎู ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู: `v1.0.0`)
4. ฺฏุฒูู **prerelease** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ (ุง ูฺฉูุฏ)
5. ุฑู **Run workflow** ฺฉูฺฉ ฺฉูุฏ

ุงฺฏุฑ workflow ุงุฌุฑุง ุดุฏ ู ุชุง ูุฑุญูู Release ูพุด ุฑูุชุ ุนู ุชูุธูุงุช ุฏุฑุณุช ุงุณุช.

### ุชุณุช 3: Push ุจู Branch ุจุง ูุงู publish

```bash
# ุงุฌุงุฏ branch ุฌุฏุฏ
git checkout -b publish-v1.0.0

# ุชุบุฑุงุช (ูุซูุงู ุขูพุฏุช version ุฏุฑ package.json)
# ...

# Commit ู Push
git add .
git commit -m "Prepare for release v1.0.0"
git push origin publish-v1.0.0
```

ุจุนุฏ ุงุฒ pushุ workflow ุจุงุฏ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฌุฑุง ุดูุฏ.

---

## ๐จ ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง

### ูุดฺฉู 1: Workflow ุงุฌุฑุง ููโุดูุฏ

**ุฑุงูโุญู:**
- ุจุฑุฑุณ ฺฉูุฏ Actions ูุนุงู ุจุงุดุฏ (ุจุฎุด 1)
- ุจุฑุฑุณ ฺฉูุฏ branch name ุดุงูู "publish" ุจุงุดุฏ
- ุจุฑุฑุณ ฺฉูุฏ ูุงู workflow ุฏุฑ ูุณุฑ `.github/workflows/node.js.yml` ุจุงุดุฏ

### ูุดฺฉู 2: ุฎุทุง Permission ุฏุฑ ุงุฌุงุฏ Release

**ุฑุงูโุญู:**
- ุจุฑุฑุณ ฺฉูุฏ Workflow permissions ุฑู "Read and write" ุชูุธู ุดุฏู ุจุงุดุฏ (ุจุฎุด 2)
- ุจุฑุฑุณ ฺฉูุฏ repository ุดูุง Private ูุจุงุดุฏ (ูฺฏุฑ ุงูฺฉู ุงุฒ Personal Access Token ุงุณุชูุงุฏู ฺฉูุฏ)

### ูุดฺฉู 3: Tag ุงุฌุงุฏ ููโุดูุฏ

**ุฑุงูโุญู:**
- ุจุฑุฑุณ ฺฉูุฏ `GITHUB_TOKEN` ุจู ุฏุฑุณุช ุชูุธู ุดุฏู ุจุงุดุฏ
- ุจุฑุฑุณ ฺฉูุฏ permissions ุดุงูู `contents: write` ุจุงุดุฏ

### ูุดฺฉู 4: Build Artifact ูพุฏุง ููโุดูุฏ

**ุฑุงูโุญู:**
- ุงุทููุงู ุญุงุตู ฺฉูุฏ job `build` ูุจู ุงุฒ `release` ุงุฌุฑุง ุดุฏู ุจุงุดุฏ
- ุจุฑุฑุณ ฺฉูุฏ ูุงู artifact ุฏุฑุณุช ุจุงุดุฏ (`dist-20.x`)

---

## ๐ ฺฺฉโูุณุช ููุง

ูุจู ุงุฒ ุงุณุชูุงุฏูุ ุงู ููุงุฑุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

- [ ] Actions ูุนุงู ุงุณุช
- [ ] Workflow permissions ุฑู "Read and write" ุชูุธู ุดุฏู
- [ ] ูุงู `.github/workflows/node.js.yml` ุฏุฑ repository ูุฌูุฏ ุฏุงุฑุฏ
- [ ] ฺฉ ุจุงุฑ workflow ุฑุง ุจู ุตูุฑุช ุฏุณุช ุงุฌุฑุง ฺฉุฑุฏูโุงุฏ ู ูููู ุจูุฏู
- [ ] Version ุฏุฑ `package.json` ุจูโุฑูุฒ ุงุณุช

---

## ๐ฏ ูุฑุงุญู ุงุณุชูุงุฏู

### ุฑูุด 1: ุจุง Push ุจู Branch publish

```bash
git checkout -b publish
# ุชุบุฑุงุช ุฎูุฏ ุฑุง ุงุนูุงู ฺฉูุฏ
git add .
git commit -m "Release v1.0.0"
git push origin publish
```

### ุฑูุด 2: ุจุง ุงุฌุงุฏ Tag

```bash
git tag -a v1.0.0 -m "Release v1.0.0"
git push origin v1.0.0
```

### ุฑูุด 3: ุงุฌุฑุง ุฏุณุช

1. ุจุฑูุฏ ุจู **Actions** โ **Node.js CI**
2. ุฑู **Run workflow** ฺฉูฺฉ ฺฉูุฏ
3. ูุณุฎู ุฑุง ูุงุฑุฏ ฺฉูุฏ
4. ุงุฌุฑุง ฺฉูุฏ

---

## ๐ ูุงุฒ ุจู ฺฉูฺฉุ

ุงฺฏุฑ ูุดฺฉู ุฏุงุดุชุฏ:
1. Log ูุง workflow ุฑุง ุฏุฑ ุชุจ **Actions** ุจุฑุฑุณ ฺฉูุฏ
2. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุชูุงู ูุฑุงุญู ุจุงูุง ุฑุง ุงูุฌุงู ุฏุงุฏูโุงุฏ
3. ูุทูุฆู ุดูุฏ ฺฉู repository public ุงุณุช (ุง ุงุฒ Personal Access Token ุงุณุชูุงุฏู ูโฺฉูุฏ)
